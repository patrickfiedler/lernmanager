{% extends 'base.html' %}

{% block title %}Einstellungen - Lernmanager{% endblock %}

{% block content %}
<h1>âš™ï¸ Einstellungen</h1>

<div class="card">
    <h2>Anzeigeoptionen</h2>

    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="form-group">
            <label class="checkbox-label">
                <input type="checkbox" name="easy_reading_mode" {% if student.easy_reading_mode %}checked{% endif %}>
                <span>
                    <strong>Lesemodus aktivieren</strong>
                    <small class="text-muted d-block" style="margin-top: 0.5rem;">
                        GrÃ¶ÃŸere Schrift, mehr Abstand zwischen den Zeilen und eine augenschonende Hintergrundfarbe.
                        Hilfreich bei Leseschwierigkeiten (Dyslexie).
                    </small>
                </span>
            </label>
        </div>

        <hr style="margin: 1.5rem 0; border: none; border-top: 1px solid #e5e7eb;">

        <h2>Lernpfad</h2>
        <p class="text-muted" style="margin-bottom: 1rem;">
            Dein Lernpfad bestimmt, welche Aufgaben du erledigen musst. Aufgaben Ã¼ber deinem Lernpfad sind optional â€” du kannst sie trotzdem machen, wenn du mÃ¶chtest!
        </p>

        <div class="form-group">
            {% set current_path = student.lernpfad or 'bergweg' %}
            <label style="display: block; padding: 0.75rem; margin-bottom: 0.5rem; border: 2px solid {% if current_path == 'wanderweg' %}#22c55e{% else %}#e5e7eb{% endif %}; border-radius: 0.5rem; cursor: pointer;{% if current_path == 'wanderweg' %} background: #f0fdf4;{% endif %}">
                <input type="radio" name="lernpfad" value="wanderweg" {% if current_path == 'wanderweg' %}checked{% endif %} style="margin-right: 0.5rem;">
                <strong>ğŸŸ¢ Wanderweg</strong> â€” Grundlagen
                <small class="text-muted d-block" style="margin-top: 0.25rem; margin-left: 1.5rem;">
                    Die wichtigsten Aufgaben. Ein guter Einstieg.
                </small>
            </label>

            <label style="display: block; padding: 0.75rem; margin-bottom: 0.5rem; border: 2px solid {% if current_path == 'bergweg' %}#3b82f6{% else %}#e5e7eb{% endif %}; border-radius: 0.5rem; cursor: pointer;{% if current_path == 'bergweg' %} background: #eff6ff;{% endif %}">
                <input type="radio" name="lernpfad" value="bergweg" {% if current_path == 'bergweg' %}checked{% endif %} style="margin-right: 0.5rem;">
                <strong>ğŸ”µ Bergweg</strong> â€” VollstÃ¤ndig
                <small class="text-muted d-block" style="margin-top: 0.25rem; margin-left: 1.5rem;">
                    Alle regulÃ¤ren Aufgaben. Der Standardweg.
                </small>
            </label>

            <label style="display: block; padding: 0.75rem; margin-bottom: 0.5rem; border: 2px solid {% if current_path == 'gipfeltour' %}#f59e0b{% else %}#e5e7eb{% endif %}; border-radius: 0.5rem; cursor: pointer;{% if current_path == 'gipfeltour' %} background: #fffbeb;{% endif %}">
                <input type="radio" name="lernpfad" value="gipfeltour" {% if current_path == 'gipfeltour' %}checked{% endif %} style="margin-right: 0.5rem;">
                <strong>â­ Gipfeltour</strong> â€” Alles
                <small class="text-muted d-block" style="margin-top: 0.25rem; margin-left: 1.5rem;">
                    Alle Aufgaben inklusive Bonusaufgaben. FÃ¼r Entdecker!
                </small>
            </label>
        </div>

        <button type="submit" class="btn btn-primary">Speichern</button>
        <a href="{{ url_for('student_dashboard') }}" class="btn btn-secondary">Abbrechen</a>
    </form>
</div>

{% if student.easy_reading_mode %}
<div class="card mt-2" style="background-color: #d1fae5; border-color: #10b981;">
    <p style="margin: 0;"><strong>âœ… Lesemodus ist aktiv</strong></p>
    <p style="margin-top: 0.5rem; margin-bottom: 0;">Du siehst jetzt grÃ¶ÃŸere Schrift und mehr Abstand. Wenn du das wieder ausschalten mÃ¶chtest, entferne einfach den Haken oben.</p>
</div>
{% endif %}
{% endblock %}
